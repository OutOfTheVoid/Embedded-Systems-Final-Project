/*
Liam Taylor
wttesla@uw.edu

tm4cg123gh6pm.h:
TM4C123GH6PM macros 
====================
Contains macros for register base addresses and offsets, and magic numbers for the TM4CG123GH6PM
*/

#ifndef TM4C123GH6PM_H
#define TM4C123GH6PM_H

// 16 MHz
#define CLOCK_FREQUENCY 16000000

#define CPACR_BASE 0xE000ED88
#define CPAPR_OFF 0x00000000

#define CPACR_CP10_FULL 0x00C00000
#define CPACR_CP11_FULL 0x00300000

#define INTR_RESET 1
#define INTR_NMI 2
#define INTR_HARD_FAULT 3
#define INTR_MMU_FAULT 4
#define INTR_BUS_FAULT 5
#define INTR_USAGE_FAULT 6
#define INTR_SVCALL 11
#define INTR_DEBUG_MON 12
#define INTR_PENDSV 14
#define INTR_SYSTICK 15
#define INTR_IRQ0 16

#define INTR_TIMER0_A 19
#define INTR_TIMER0_B 20
#define INTR_TIMER1_A 21
#define INTR_TIMER1_B 22
#define INTR_TIMER2_A 23
#define INTR_TIMER2_B 24
#define INTR_TIMER3_A 35
#define INTR_TIMER3_B 36
#define INTR_TIMER4_A 70
#define INTR_TIMER4_B 71
#define INTR_TIMER5_A 92
#define INTR_TIMER5_B 93

#define INTR_WTIMER0_A 94
#define INTR_WTIMER0_B 95
#define INTR_WTIMER1_A 96
#define INTR_WTIMER1_B 97
#define INTR_WTIMER2_A 98
#define INTR_WTIMER2_B 99
#define INTR_WTIMER3_A 100
#define INTR_WTIMER3_B 101
#define INTR_WTIMER4_A 102
#define INTR_WTIMER4_B 103
#define INTR_WTIMER5_A 104
#define INTR_WTIMER5_B 105

#define INTR_GPIO_PORTA 0
#define INTR_GPIO_PORTB 1
#define INTR_GPIO_PORTC 2
#define INTR_GPIO_PORTD 3
#define INTR_GPIO_PORTE 4
#define INTR_GPIO_PORTF 30

#define INTR_UART0 5
#define INTR_UART1 6
#define INTR_UART2 33
#define INTR_UART3 59
#define INTR_UART4 60
#define INTR_UART5 61
#define INTR_UART6 62
#define INTR_UART7 63

#define INTR_SSI0 7
#define INTR_SSI1 34
#define INTR_SSI2 57
#define INTR_SSI3 58

#define INTR_I2C0 8
#define INTR_I2C1 37
#define INTR_I2C2 68
#define INTR_I2C3 69

#define INTR_ADC1_SS0 14
#define INTR_ADC1_SS1 15
#define INTR_ADC1_SS2 16
#define INTR_ADC1_SS3 17

#define INTR_ADC2_SS0 48
#define INTR_ADC2_SS1 49
#define INTR_ADC2_SS2 50
#define INTR_ADC2_SS3 51

#define INTR_UDMA_SW 46
#define INTR_UDMA_ERROR 57

#define SYSCTL_BASE 0x400FE000 // System control

#define SYSCTL_RCGCTIMER 0x604 // Timer RCGC
#define SYSCTL_RCGCGPIO 0x608 // GPIO RCGC
#define SYSCTL_RCGCDMA 0x60C // ÂµDMA RCGC
#define SYSCTL_RCGCADC 0x638 // ADC RCGC
#define SYSCTL_RCGCWTIMER 0x65C // Wide Timer RCGC
#define SYSCTL_RCGCSSI 0x61C // SSI
#define SYSCTL_RCGCUART 0x618 // UART
#define SYSCTL_RCGCPWM 0x640 // PWM
#define SYSCTL_RCC 0x060
#define SYSCTL_RCC2 0x070
#define SYSCTL_RIS 0x050

#define SYSCTL_RIS_PLLLRIS 0x40

#define SYSCTL_RCC2_USE_RCC2 0x80000000
#define SYSCTL_RCC2_PLL_BYPASS 0x00000800
#define SYSCTL_RCC2_OSCSRC2_MASK 0x70

#define SYSCTL_RCC2_OSCSRC2_MAIN 0x00
#define SYSCTL_RCC2_OSCSRC2_PIOSC 0x10
#define SYSCTL_RCC2_OSCSRC2_PIOSCD4 0x20
#define SYSCTL_RCC2_OSCSRC2_LFIOSC 0x30
#define SYSCTL_RCC2_OSCSRC2_EXT_32768Hz 0x70
#define SYSCTL_RCC2_OSCSRC2_MASK 0x70
#define SYSCTL_RCC2_PWRDN2 0x2000
#define SYSCTL_RCC2_DIV400 0x40000000
#define SYSCTL_RCC2_SYSDIV2_MASK 0x1FC00000
#define SYSCTL_RCC2_SYSDIV2_DIV400_2_5 0x1000000

#define SYSCTL_RCC_SOURCE_MASK 0x7C0
#define SYSCTL_RCC_SOURCE_16MHz 0x540

#define SYSCTL_RCC_PWMCLOCKDIV_SHIFT 17
#define SYSCTL_RCC_PWMCLOCKDIV_MASK ((0xF << 17))

#define SYSCTL_RCC_USEPWMCLOCKDIV ((1 << 20))

#define GPIO_PORTA_BASE         0x40004000  // GPIO Port A
#define GPIO_PORTB_BASE         0x40005000  // GPIO Port B
#define GPIO_PORTC_BASE         0x40006000  // GPIO Port C
#define GPIO_PORTD_BASE         0x40007000  // GPIO Port D
#define GPIO_PORTE_BASE         0x40024000  // GPIO Port E
#define GPIO_PORTF_BASE         0x40025000  // GPIO Port F
#define GPIO_PORTG_BASE         0x40026000  // GPIO Port G
#define GPIO_PORTH_BASE         0x40027000  // GPIO Port H

#define GPIO_PORTA_AHB_BASE     0x40058000  // GPIO Port A (high speed)
#define GPIO_PORTB_AHB_BASE     0x40059000  // GPIO Port B (high speed)
#define GPIO_PORTC_AHB_BASE     0x4005A000  // GPIO Port C (high speed)
#define GPIO_PORTD_AHB_BASE     0x4005B000  // GPIO Port D (high speed)
#define GPIO_PORTE_AHB_BASE     0x4005C000  // GPIO Port E (high speed)
#define GPIO_PORTF_AHB_BASE     0x4005D000  // GPIO Port F (high speed)
#define GPIO_PORTG_AHB_BASE     0x4005E000  // GPIO Port G (high speed)
#define GPIO_PORTH_AHB_BASE     0x4005F000  // GPIO Port H (high speed)

#define GPIO_DATA             0x00000000  // GPIO Data
#define GPIO_DIR              0x00000400  // GPIO Direction
#define GPIO_IS               0x00000404  // GPIO Interrupt Sense
#define GPIO_IBE              0x00000408  // GPIO Interrupt Both Edges
#define GPIO_IEV              0x0000040C  // GPIO Interrupt Event
#define GPIO_IM               0x00000410  // GPIO Interrupt Mask
#define GPIO_RIS              0x00000414  // GPIO Raw Interrupt Status
#define GPIO_MIS              0x00000418  // GPIO Masked Interrupt Status
#define GPIO_ICR              0x0000041C  // GPIO Interrupt Clear
#define GPIO_AFSEL            0x00000420  // GPIO Alternate Function Select
#define GPIO_DR2R             0x00000500  // GPIO 2-mA Drive Select
#define GPIO_DR4R             0x00000504  // GPIO 4-mA Drive Select
#define GPIO_DR8R             0x00000508  // GPIO 8-mA Drive Select
#define GPIO_ODR              0x0000050C  // GPIO Open Drain Select
#define GPIO_PUR              0x00000510  // GPIO Pull-Up Select
#define GPIO_PDR              0x00000514  // GPIO Pull-Down Select
#define GPIO_SLR              0x00000518  // GPIO Slew Rate Control Select
#define GPIO_DEN              0x0000051C  // GPIO Digital Enable
#define GPIO_LOCK             0x00000520  // GPIO Lock
#define GPIO_CR               0x00000524  // GPIO Commit
#define GPIO_AMSEL            0x00000528  // GPIO Analog Mode Select
#define GPIO_PCTL             0x0000052C  // GPIO Port Control
#define GPIO_ADCCTL           0x00000530  // GPIO ADC Control
#define GPIO_DMACTL           0x00000534  // GPIO DMA Control
#define GPIO_SI               0x00000538  // GPIO Select Interrupt
#define GPIO_DR12R            0x0000053C  // GPIO 12-mA Drive Select
#define GPIO_WAKEPEN          0x00000540  // GPIO Wake Pin Enable
#define GPIO_WAKELVL          0x00000544  // GPIO Wake Level
#define GPIO_WAKESTAT         0x00000548  // GPIO Wake Status
#define GPIO_PP               0x00000FC0  // GPIO Peripheral Property
#define GPIO_PC               0x00000FC4  // GPIO Peripheral Configuration

#define GPIO_LOCK_KEYVAL      0x4C4F434B // GPIO Lock magic key value

#define GPTM_TIMER0_BASE 0x40030000
#define GPTM_TIMER1_BASE 0x40031000
#define GPTM_TIMER2_BASE 0x40032000
#define GPTM_TIMER3_BASE 0x40033000
#define GPTM_TIMER4_BASE 0x40034000
#define GPTM_TIMER5_BASE 0x40035000
#define GPTM_WTIMER0_BASE 0x40046000
#define GPTM_WTIMER1_BASE 0x40047000
#define GPTM_WTIMER2_BASE 0x4004C000
#define GPTM_WTIMER3_BASE 0x4004D000
#define GPTM_WTIMER4_BASE 0x4004E000
#define GPTM_WTIMER5_BASE 0x4004F000

#define GPTM_TIMER_CONFIG 0x000
#define GPTM_TIMER_A_MODE 0x004
#define GPTM_TIMER_B_MODE 0x008
#define GPTM_TIMER_CONTROL 0x00C
#define GPTM_TIMER_INTERRUPT_MASK 0x018
#define GPTM_TIMER_RAW_INTERRUPT_STATUS 0x01C
#define GPTM_TIMER_INTERRUPT_CLEAR 0x024
#define GPTM_TIMER_A_INTERVAL 0x028
#define GPTM_TIMER_B_INTERVAL 0x02C
#define GPTM_TIMER_A_PRESCALE 0x038
#define GPTM_TIMER_B_PRESCALE 0x03C

#define GPTM_TIMER_CONFIG_MASK 0x07

#define GPTM_TIMER_A_MODE_ONE_SHOT 0x001
#define GPTM_TIMER_A_MODE_PERIODIC 0x002
#define GPTM_TIMER_A_MODE_CAPTURE 0x003

#define GPTM_TIMER_MODE_MASK 0xFFF
#define GPTM_TIMER_A_MODE_COUNT_UP 0x010

#define GPTM_TIMER_INTERRUPT_MASK_A_TIMEOUT 0x001
#define GPTM_TIMER_INTERRUPT_MASK_B_TIMEOUT 0x100

#define GPTM_TIMER_RAW_INTERRUPT_STATUS_A_TIMEOUT 0x001
#define GPTM_TIMER_RAW_INTERRUPT_STATUS_B_TIMEOUT 0x100

#define GPTM_TIMER_CLEAR_INTERRUPT_STATUS_A_TIMEOUT 0x001
#define GPTM_TIMER_CLEAR_INTERRUPT_STATUS_B_TIMEOUT 0x100

#define GPTM_TIMER_CONTROL_A_ENABLE 0x001

#define GPTM_TIMER_CONTROL_A_ADC 0x20

#define GPTM_TIMER_A_VALUE 0x048

#define NVIC_BASE 0xE000E000

#define NVIC_EN0 0x100
#define NVIC_EN1 0x104
#define NVIC_EN2 0x108
#define NVIC_EN3 0x10C
#define NVIC_EN4 0x110

#define NVIC_DIS0 0x180
#define NVIC_DIS1 0x184
#define NVIC_DIS2 0x188
#define NVIC_DIS3 0x18C
#define NVIC_DIS4 0x190

#define NVIC_VTABLE 0xD08

#define SSI_SSI0_BASE 0x40008000
#define SSI_SSI1_BASE 0x40009000
#define SSI_SSI2_BASE 0x4000A000
#define SSI_SSI3_BASE 0x4000B000

#define SSI_CR1 0x004

#define SSI_CR1_SSE 0x02
#define SSI_CR1_MS 0x04

#define SSI_CC 0xFC8

#define SSI_CC_CLOCK_MASK 0x07
#define SSI_CC_CLOCK_SYSTEM 0x00
#define SSI_CC_CLOCK_PIOSC 0x05

#define SSI_CPSR 0x010
#define SSI_CPSR_MASK 0xFF

#define SSI_CR0 0x000

#define SSI_CR0_DATA_SIZE_MASK 0xF
#define SSI_CR0_FRAME_FORMAT_MASK 0x30
#define SSI_CR0_FRAME_FORMAT_SPI 0x00
#define SSI_CR0_FRAME_FORMAT_TI_SSFF 0x10
#define SSI_CR0_FRAME_FORMAT_MICROWIRE 0x20
#define SSI_CR0_SERIAL_CLOCK_POLARITY_HIGH 0x40
#define SSI_CR0_SERIAL_CLOCK_PHASE_SECOND_CLOCK_EDGE 0x80
#define SSI_CR0_SERIAL_CLOCK_RATE_MASK 0xFF00
#define SSI_CR0_SERIAL_CLOCK_RATE_SHIFT 8

#define SSI_DATA 0x008
#define SSI_STATUS 0x00C

#define SSI_STATUS_TRANSMIT_NOT_FULL 0x02
#define SSI_STATUS_TRANSMIT_EMPTY 0x01

#define SSI_STATUS_RECEIVE_FULL 0x08
#define SSI_STATUS_RECEIVE_NOT_EMPTY 0x04

#define SSI_STATUS_BUSY 0x10

#define ADC_ADC1_BASE 0x40038000
#define ADC_ADC2_BASE 0x40039000

#define ADC_ACTSS 0x000
#define ADC_RIS 0x004
#define ADC_IM 0x008
#define ADC_ISC 0x00C
#define ADC_OSTAT 0x010
#define ADC_EMUX 0x014
#define ADC_USTAT 0x018
#define ADC_SSPRI 0x020
#define ADC_PSSI 0x028
#define ADC_SSMUX0 0x040
#define ADC_SSCTL0 0x044
#define ADC_SSFIFO0 0x048
#define ADC_SSFSTAT0 0x04C
#define ADC_SSMUX1 0x060
#define ADC_SSCTL1 0x064
#define ADC_SSFIFO1 0x068
#define ADC_SSFSTAT1 0x06C
#define ADC_SSMUX2 0x080
#define ADC_SSCTL2 0x084
#define ADC_SSFIFO2 0x088
#define ADC_SSFSTAT2 0x08C
#define ADC_SSMUX3 0x0A0
#define ADC_SSCTL3 0x0A4
#define ADC_SSFIFO3 0x0A8
#define ADC_SSFSTAT3 0x0AC

#define ADC_PSSI_SYCNWAIT 0x08000000
#define ADC_PSSI_GSYNC 0x80000000
#define ADC_PSSI_SSIINIT_MASK 0xF

#define ADC_SSFIFO_MASK 0xFFF

#define ADC_SSFSTAT_EMPTY 0x0100
#define ADC_SSFSTAT_FULL 0x1000

#define ADC_SSCTL_TEMP 0x08
#define ADC_SSCTL_INTERRUPT 0x04
#define ADC_SSCTL_END_OF_SEQUENCE 0x02
#define ADC_SSCTL_DIFFERENTIAL 0x01

#define ADC_EMUX_SAMPLER0_MASK 0x000F
#define ADC_EMUX_SAMPLER1_MASK 0x00F0
#define ADC_EMUX_SAMPLER2_MASK 0x0F00
#define ADC_EMUX_SAMPLER3_MASK 0xF000

#define ADC_EMUX_ESOURCE_CPU 0x0
#define ADC_EMUX_ESOURCE_TIMER 0x5

#define ADC_ACTSS_ADC_BUSY 0x00010000

#define ADC_SSPRI_MASK 0x00003333
#define ADC_SSPRI_0123 0x00003210
#define ADC_SSPRI_0132 0x00002310
#define ADC_SSPRI_0213 0x00003120
#define ADC_SSPRI_0231 0x00001320
#define ADC_SSPRI_0321 0x00001230
#define ADC_SSPRI_0312 0x00002130
#define ADC_SSPRI_1023 0x00003201
#define ADC_SSPRI_1032 0x00002301
#define ADC_SSPRI_1203 0x00003021
#define ADC_SSPRI_1230 0x00000321
#define ADC_SSPRI_1302 0x00002031
#define ADC_SSPRI_1320 0x00000231
#define ADC_SSPRI_2013 0x00003102
#define ADC_SSPRI_2031 0x00001302
#define ADC_SSPRI_2103 0x00003012
#define ADC_SSPRI_2130 0x00000312
#define ADC_SSPRI_2301 0x00001032
#define ADC_SSPRI_2310 0x00000132
#define ADC_SSPRI_3012 0x00002103
#define ADC_SSPRI_3021 0x00001203
#define ADC_SSPRI_3102 0x00002013
#define ADC_SSPRI_3120 0x00000213
#define ADC_SSPRI_3210 0x00000123
#define ADC_SSPRI_3201 0x00001023

#define UART_UART0_BASE 0x4000C000
#define UART_UART1_BASE 0x4000D000
#define UART_UART2_BASE 0x4000E000
#define UART_UART3_BASE 0x4000F000
#define UART_UART4_BASE 0x40010000
#define UART_UART5_BASE 0x40011000
#define UART_UART6_BASE 0x40012000
#define UART_UART7_BASE 0x40013000

#define UART_DR 0x000
#define UART_RSR_ECR 0x004
#define UART_FR 0x018
#define UART_IBRD 0x024
#define UART_FBRD 0x028
#define UART_LCRH 0x02C
#define UART_CTL 0x030
#define UART_IFLS 0x034
#define UART_IM 0x038
#define UART_RIS 0x03C
#define UART_MIS 0x040
#define UART_ICR 0x044
#define UART_CC 0xFC8

#define UART_CTL_ENABLE 0x0001
#define UART_CTL_TX_ENABLE 0x0100
#define UART_CTL_RX_ENABLE 0x0200
#define UART_CTL_CLOCKDIV_8 0x0020

#define UART_CC_MASK 0x0F
#define UART_CC_SYSTEM_CLOCK 0x00
#define UART_CC_PIOSC 0x05

#define UART_IBRD_MASK 0xFFFF
#define UART_FBRD_MASK 0x003F

#define UART_LCRH_SEND_BREAK 0x01
#define UART_LCRH_PARITY_EN 0x02
#define UART_LCRH_PARITY_EVEN 0x04
#define UART_LCRH_TWO_STOP 0x08
#define UART_LCRH_FIFO_EN 0x10
#define UART_LCRH_WORD_LEN_MASK 0x60
#define UART_LCRH_WORD_LEN_5 0x00
#define UART_LCRH_WORD_LEN_6 0x20
#define UART_LCRH_WORD_LEN_7 0x40
#define UART_LCRH_WORD_LEN_8 0x60

#define UART_FR_CTS 0x01
#define UART_FR_BUSY 0x08
#define UART_FR_RXFIFO_EMPTY 0x10
#define UART_FR_TXFIFO_FULL 0x20
#define UART_FR_RXFIFO_FULL 0x40
#define UART_FR_TXFIFO_EMPTY 0x80

#define PWM_PWM1_BASE 0x40029000
#define PWM_PWM0_BASE 0x40028000

#define PWM_MCTL 0x000
#define PWM_ENABLE 0x008
#define PWM_SYNC 0x004
#define PWM_0CTL 0x040
#define PWM_0LOAD 0x050
#define PWM_0CMPA 0x058
#define PWM_0CMPB 0x05C
#define PWM_0GENA 0x060
#define PWM_0GENB 0x064
#define PWM_1CTL 0x080
#define PWM_1LOAD 0x090
#define PWM_1CMPA 0x098
#define PWM_1CMPB 0x09C
#define PWM_1GENA 0x0A0
#define PWM_1GENB 0x0A4
#define PWM_2CTL 0x0C0
#define PWM_2LOAD 0x0D0
#define PWM_2CMPA 0x0D8
#define PWM_2CMPB 0x0DC
#define PWM_2GENA 0x0E0
#define PWM_2GENB 0x0E4
#define PWM_3CTL 0x100
#define PWM_3LOAD 0x110
#define PWM_3CMPA 0x118
#define PWM_3CMPB 0x11C
#define PWM_3GENA 0x120
#define PWM_3GENB 0x124

#define PWM_NCTL_MASK 0x07FFFF

#define PWM_CTL_ENABLE 0x001
#define PWM_CTL_UPDOWN 0x002

#define PWM_GEN_MASK 0x000FFF

#define PWM_GEN_EVT_MASK 0x003
#define PWM_GEN_EVT_NONE 0x000
#define PWM_GEN_EVT_INVERT 0x001
#define PWM_GEN_EVT_LOW 0x002
#define PWM_GEN_EVT_HIGH 0x003

#define PWM_GEN_COMP_B_DOWN_SHIFT 10
#define PWM_GEN_COMP_B_UP_SHIFT 8
#define PWM_GEN_COMP_A_DOWN_SHIFT 6
#define PWM_GEN_COMP_A_UP_SHIFT 4
#define PWM_GEN_LOAD_SHIFT 2
#define PWM_GEN_ZERO_SHIFT 0

#define DMA_BASE 0x400FF000

#define DMA_STAT 0x000
#define DMA_CFG 0x004
#define DMA_CTLBASE 0x008
#define DMA_ALTBASE 0x00C
#define DMA_WAITSTATE 0x010
#define DMA_SWREQ 0x014
#define DMA_USEBURSTSET 0x018
#define DMA_USEBURSTCLR 0x01C
#define DMA_REQMASKSET 0x020
#define DMA_REQMASKCLR 0x024
#define DMA_ENASET 0x028
#define DMA_ENACLR 0x02C
#define DMA_ALTSET 0x030
#define DMA_ALTCLEAR 0x034
#define DMA_PRIOSET 0x038
#define DMA_PRIOCLEAR 0x03C

#define DMA_CHMAP0 0x510
#define DMA_CHMAP1 0x514
#define DMA_CHMAP2 0x518
#define DMA_CHMAP3 0x51C

#define DMA_CONTROL_TRANSFER_MODE_MASK 0x07
#define DMA_CONTROL_TRANSFER_MODE_STOP 0x00
#define DMA_CONTROL_TRANSFER_MODE_BASIC 0x01
#define DMA_CONTROL_TRANSFER_MODE_AUTO 0x02
#define DMA_CONTROL_TRANSFER_MODE_PING_PONG 0x03
#define DMA_CONTROL_TRANSFER_MODE_SCATTER_GATHER_MEMORY 0x04
#define DMA_CONTROL_TRANSFER_MODE_SCATTER_GATHER_MEMORY_ALTERNATE 0x05
#define DMA_CONTROL_TRANSFER_MODE_SCATTER_GATHER_PERIPHERAL 0x06
#define DMA_CONTROL_TRANSFER_MODE_SCATTER_GATHER_PERIPHERAL_ALTERNATE 0x07

#define DMA_CONTROL_TRANSFER_SIZE_SHIFT 4
#define DMA_CONTROL_TRANSFER_SIZE_MASK 0x3FF

#define DMA_CONTROL_ARBITRATION_SIZE_SHIFT 14
#define DMA_CONTROL_SOURCE_SIZE_SHIFT 24
#define DMA_CONTROL_SOURCE_INCREMENT_SHIFT 26
#define DMA_CONTROL_DESTINATION_SIZE_SHIFT 28
#define DMA_CONTROL_DESTINATION_INCREMENT_SHIFT 30

#endif /* TM4C123GH6PM_H */
